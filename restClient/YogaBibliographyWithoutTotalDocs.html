<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Yoga Bibliography</title>
    <style>  
    .flex-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .flex-container > div {
      margin: 3px;
      padding: 2px;
      border: 1px solid black;
      flex-basis: 20%;
    }

    ul{
      list-style-type: none;
      position: relative;
      margin: -10px;
    }
          
    li {
      display: inline-block;
      margin: 5px;
      justify-content: center;
      border: 1px solid #000000;
      font-family: Futura, Tahoma, sans-serif;
      color: #000000;
    }

  </style>
  </head>
  <body>
    <link rel="stylesheet" type="text/css" href="assets/css/core.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css" />
    <div id="header">
    <div id="navbar" class="flex-container">
        <ul>
            <li><a href="Yogabibliography.html">Yogabibliography</a></li>
            <li><a href="History.html">History</a></li>
            <li><a href="Metallurgy.html">Metallurgy</a></li>
            <li><a href="Philosophy.html">Philosophy</a></li>
            <li><a href="ScienceTechnology.html">Science & Technology</a></li>
        </ul>
    </div>
    <h2>Dashboard</h2>
    </div>
    
    <div id="counts"><div id="mainTableContainer" style="min-height: 100px; padding: 2px; display: block;"></div>
    <script>
        url = "127.0.0.1"; port="5000"; prefix="/yogabibliography";
        const countsDiv = document.getElementById("mainTableContainer");
        // countsDiv.innerHTML = "<h5>Counts:</h5>";
        fetch('http://' + url + ':' + port + prefix)
            .then(response => response.json())
            .then(json => {
          dataArray = json['Yogabibliography'];
          const divTblContainer = document.createElement("div");
          divTblContainer.id = "tableContainer";
          divTblContainer.className = "metro-nav metro-fix-view";
          total = 0;
            Object.entries(dataArray).forEach(([key, value]) => {
              /* const label = document.createElement("label");
              label.htmlFor = key;
              label.textContent = key + ": ";
              countsDiv.appendChild(label);
              const textBox = document.createElement("input");
              textBox.type = "text";
              textBox.id = key;
              textBox.value = value;
              textBox.size = "3";
              countsDiv.appendChild(textBox);
              countsDiv.appendChild(document.createElement("br")); */
            divInnerTableContainer =  document.createElement("div");
            divInnerTableContainer.className = "metro-nav-block nav-block-purple";
            element_i = document.createElement("i");
            element_i.className = "glyphicon glyphicon-file";
            if (key=="Users") element_i.className = "glyphicon glyphicon-user";
                else {element_i.className = "glyphicon glyphicon-file"; total += value;}
            divInfo =  document.createElement("div");
            divInfo.className = "info";
            divInfo.innerHTML = value;
            divStatus = document.createElement("div");
            divStatus.className = "status";
            divStatus.innerHTML = key;
            divInnerTableContainer.appendChild(divStatus);
            divInnerTableContainer.appendChild(element_i);
            divInnerTableContainer.appendChild(divInfo);
            divTblContainer.appendChild(divInnerTableContainer);
            countsDiv.appendChild(divTblContainer);
        })
    });
    </script>
</body>
</html>